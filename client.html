<!DOCTYPE html>
<html>
<head>
  <title>Multiplayer Test Client</title>
</head>
<body>
  <h1>Multiplayer Test Client</h1>

  <div>
    <input id="messageInput" type="text" placeholder="Type a message">
    <button onclick="sendMessage()">Send</button>
  </div>

  <div id="log" style="margin-top:20px; border:1px solid #ccc; padding:10px; height:200px; overflow-y:auto;">
    <b>Messages will appear here:</b><br>
  </div>

  <script>
    // Connect to the same server
    const socket = new WebSocket(`wss://${window.location.host}`);

    const log = document.getElementById("log");

    function logMessage(msg) {
      log.innerHTML += msg + "<br>";
      log.scrollTop = log.scrollHeight;
    }

    socket.onopen = () => logMessage("‚úÖ Connected to server");
    socket.onmessage = (event) => logMessage("üì© " + event.data);
    socket.onclose = () => logMessage("‚ùå Disconnected");
    socket.onerror = (err) => logMessage("‚ö†Ô∏è Error: " + err.message);

    function sendMessage() {
      const input = document.getElementById("messageInput");
      if(input.value.trim() === "") return;
      socket.send(input.value);
      logMessage("You: " + input.value);
      input.value = "";
    }
  </script>
</body>
</html>
